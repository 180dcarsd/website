<script>
  document.addEventListener("DOMContentLoaded", function () {

  const contactForms = document.querySelectorAll(".contactForm");
  const modal = document.getElementById("successModal");
  const loadingState = document.getElementById("modalLoading");
  const successState = document.getElementById("modalSuccess");
  const closeBtn = document.getElementById("closeModal");

  contactForms.forEach(form => {

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const data = new FormData(form);

      // Open modal immediately
      modal.classList.add("active");

      loadingState.classList.remove("hidden");
      successState.classList.add("hidden");

      fetch(form.action, {
        method: "POST",
        body: data
      })
      .then(response => {
        if (response.ok) {

          // Switch to success state
          loadingState.classList.add("hidden");
          successState.classList.remove("hidden");
          form.reset();

          // Auto close after 3s
          setTimeout(() => {
            modal.classList.remove("active");
          }, 3000);

        } else {
          modal.classList.remove("active");
          alert("Submission failed.");
        }
      })
      .catch(() => {
        modal.classList.remove("active");
        alert("Network error.");
      });

    });

  });

  if (closeBtn) {
    closeBtn.addEventListener("click", function () {
      modal.classList.remove("active");
    });
  }

});

</script>

<section class="contact-section">
  <div class="contact-container">
    <h1>Let’s Build Something Impactful.</h1>
    <p>Reach out to collaborate, partner, or discuss consulting opportunities.</p>

    <form class="contactForm" method="POST"
      action="https://script.google.com/macros/s/AKfycbz-vJcJAQAb1qoWRAmTKQ4JixWFl3dlkdn6srswUP5BbhSrXtzW_1lQaGNOMbSWbPY6/exec">

      <input type="hidden" name="Type" value="Client Inquiry">

      <div class="input-group">
        <input type="text" name="Name" placeholder="Your Name" required>
      </div>

      <div class="input-group">
        <input type="email" name="Email" placeholder="Your Email" required>
      </div>

      <div class="input-group">
        <textarea name="Message" rows="4"
          placeholder="Tell us about your organization or project..."
          required></textarea>
      </div>

      <button type="submit" class="contact-btn">
        Send Message →
      </button>
    </form>
  </div>
</section>


<style>
  body{
    background: linear-gradient(to top, black, #1e1e1e);
    
  .contact-section {
  background: #0e0e0e;
  color: white;
  padding: 6rem 2rem;
  display: flex;
  justify-content: center;
  align-items:center;
}

.contact-container {
  max-width: 600px;
  width: 100%;
  text-align: center;
}

.contact-container h1 {
  margin-bottom: 1rem;
}

.contact-container p {
  opacity: 0.7;
  margin-bottom: 3rem;
}

.input-group {
  margin-bottom: 1.5rem;
}

.input-group input,
.input-group textarea {
  width: 100%;
  padding: 1rem;
  background: #161616;
  border: 1px solid #2a2a2a;
  border-radius: 8px;
  color: white;
  font-size: 0.95rem;
  transition: 0.3s ease;
}

.input-group input:focus,
.input-group textarea:focus {
  border-color: #83bc3d;
  outline: none;
  box-shadow: 0 0 0 2px rgba(0,0,0,0.2);
}

.contact-btn {
  background: #83bc3d;
  border: none;
  padding: 0.9rem 2rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.3s ease;
}

.contact-btn:hover {
  transform: translateY(-3px);
  opacity: 0.6;
}

</style>
